---
title: 'Verificar Status do Pagamento'
description: 'Verifica o status atual de um pagamento pelo correlationID'
icon: "check-circle"
---

## Endpoint

<CodeGroup>

```http
GET /payment/verify/{correlationID}
```

</CodeGroup>

Verifica o status atual de um pagamento pelo `correlationID`.

## Headers

| Header | Tipo | Obrigatório | Descrição |
|--------|------|-------------|-----------|
| `Authorization` | string | Sim | Bearer token de autenticação |

## Path Parameters

<ParamField path="correlationID" type="string" required>
  ID único do pagamento usado na criação
</ParamField>

## Request Example

<RequestExample>

```bash
GET /payment/verify/test-1234567890
Authorization: Bearer seu_token_aqui
```

</RequestExample>

## Response Examples

### 200 OK - Sucesso

<ResponseExample>

```json
{
  "success": true,
  "charge": {
    "correlationID": "pedido-123",
    "value": 10.50,
    "status": "COMPLETED",
    "qrCodeImage": "https://flowapplications.com.br/api/v1/payment/qrcode/pedido-123",
    "brCode": "00020126580014br.gov.bcb.pix...",
    "globalID": "550e8400-e29b-41d4-a716-446655440000",
    "transactionID": "E1234567820240101120000",
    "expiresIn": 3600,
    "expiresDate": "2024-12-31T23:59:59Z",
    "createdAt": "2024-01-01T10:00:00Z",
    "updatedAt": "2024-01-01T10:05:30Z"
  }
}
```

</ResponseExample>

## Status do Pagamento

O campo `status` pode ter os seguintes valores:

- **ACTIVE**: Pagamento pendente, aguardando pagamento
- **COMPLETED**: Pagamento confirmado e concluído
- **EXPIRED**: Pagamento expirado, não pode mais ser pago

## Campos da Resposta

- **correlationID**: ID único do pagamento
- **value**: Valor do pagamento em reais
- **status**: Status atual do pagamento
- **qrCodeImage**: URL da imagem PNG do QR code
- **brCode**: Código PIX copia e cola (EMV)
- **globalID**: ID global da cobrança na Woovi
- **transactionID**: ID da transação (preenchido quando o pagamento for confirmado)
- **expiresIn**: Tempo de expiração em segundos
- **expiresDate**: Data e hora de expiração
- **createdAt**: Data e hora de criação
- **updatedAt**: Data e hora da última atualização

## Erros

### 400 Bad Request - Erro

`correlationID` não fornecido.

<ResponseExample>

```json
{
  "success": false,
  "error": "correlationID é obrigatório"
}
```

</ResponseExample>

### 401 Unauthorized - Erro

Token inválido ou não fornecido.

<ResponseExample>

```json
{
  "success": false,
  "error": "Token de API inválido ou não fornecido"
}
```

</ResponseExample>

### 404 Not Found - Erro

Pagamento não encontrado ou não pertence ao usuário autenticado.

<ResponseExample>

```json
{
  "success": false,
  "error": "Pagamento não encontrado"
}
```

</ResponseExample>

### 500 Internal Server Error - Erro

Erro interno do servidor ou configuração da Woovi não encontrada.

<ResponseExample>

```json
{
  "success": false,
  "error": "Erro interno do servidor"
}
```

</ResponseExample>

## Exemplos de Código

### JavaScript/Node.js

```javascript
const API_TOKEN = 'seu_token_aqui';
const API_BASE_URL = 'https://flowapplications.com.br/api/v1';

async function verificarPagamento(correlationID) {
  const response = await fetch(`${API_BASE_URL}/payment/verify/${correlationID}`, {
    method: 'GET',
    headers: {
      'Authorization': `Bearer ${API_TOKEN}`,
    },
  });
  
  const data = await response.json();
  
  if (data.success) {
    console.log('Status:', data.charge.status);
    console.log('Valor:', data.charge.value);
    if (data.charge.status === 'COMPLETED') {
      console.log('Transaction ID:', data.charge.transactionID);
    }
  } else {
    console.error('Erro:', data.error);
  }
}

// Exemplo de uso
verificarPagamento('test-1234567890');
```

### Python

```python
import requests

API_TOKEN = 'seu_token_aqui'
API_BASE_URL = 'https://flowapplications.com.br/api/v1'

def verificar_pagamento(correlation_id):
    headers = {
        'Authorization': f'Bearer {API_TOKEN}',
    }
    
    response = requests.get(
        f'{API_BASE_URL}/payment/verify/{correlation_id}',
        headers=headers
    )
    
    data = response.json()
    
    if data.get('success'):
        print('Status:', data['charge']['status'])
        print('Valor:', data['charge']['value'])
        if data['charge']['status'] == 'COMPLETED':
            print('Transaction ID:', data['charge']['transactionID'])
    else:
        print('Erro:', data.get('error'))

# Exemplo de uso
verificar_pagamento('test-1234567890')
```

### cURL

```bash
curl -X GET https://flowapplications.com.br/api/v1/payment/verify/pagamento-1234567890 \
  -H "Authorization: Bearer seu_token_aqui"
```

### PHP

```php
<?php
$apiToken = 'seu_token_aqui';
$apiBaseUrl = 'https://flowapplications.com.br/api/v1';

function verificarPagamento($correlationID) {
    global $apiToken, $apiBaseUrl;
    
    $ch = curl_init($apiBaseUrl . '/payment/verify/' . $correlationID);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'Authorization: Bearer ' . $apiToken,
    ]);
    
    $response = curl_exec($ch);
    curl_close($ch);
    
    $result = json_decode($response, true);
    
    if ($result['success']) {
        echo "Status: " . $result['charge']['status'] . "\n";
        echo "Valor: " . $result['charge']['value'] . "\n";
        if ($result['charge']['status'] === 'COMPLETED') {
            echo "Transaction ID: " . $result['charge']['transactionID'] . "\n";
        }
    } else {
        echo "Erro: " . $result['error'] . "\n";
    }
}

verificarPagamento('test-1234567890');
?>
```
