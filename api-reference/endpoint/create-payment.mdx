---
title: 'Criar Pagamento PIX'
description: 'Cria um novo pagamento PIX dinâmico usando a Woovi'
icon: "credit-card"
---

## Endpoint

<CodeGroup>

```http
POST /payment/create
```

</CodeGroup>

Cria um novo pagamento PIX dinâmico usando a Woovi.

## Headers

| Header | Tipo | Obrigatório | Descrição |
|--------|------|-------------|-----------|
| `Authorization` | string | Sim | Bearer token de autenticação |
| `Content-Type` | string | Sim | application/json |

## Body Parameters

<ParamField body="correlationID" type="string" required>
  ID único para rastreamento do pagamento. Deve ser único por pagamento. Recomendamos usar UUID, timestamp ou ID do pedido.
</ParamField>

<ParamField body="value" type="number" required>
  Valor do pagamento em reais (ex: 10.50 para R$ 10,50). Valor mínimo: R$ 0,01
</ParamField>

<ParamField body="comment" type="string">
  Descrição ou comentário sobre o pagamento (opcional)
</ParamField>

<ParamField body="expiresIn" type="number">
  Tempo de expiração em segundos (mínimo 300 segundos = 5 minutos). Se `expiresDate` for fornecido, este campo será ignorado.
</ParamField>

<ParamField body="expiresDate" type="string">
  Data de expiração no formato ISO 8601 (ex: "2024-12-31T23:59:59Z"). Se fornecido, `expiresIn` será ignorado.
</ParamField>

<ParamField body="customer" type="object">
  Dados do cliente (opcional)
</ParamField>

<ParamField body="customer.name" type="string">
  Nome do cliente
</ParamField>

<ParamField body="customer.email" type="string">
  Email do cliente
</ParamField>

<ParamField body="customer.phone" type="string">
  Telefone do cliente (formato: +5511999999999)
</ParamField>

<ParamField body="customer.taxID" type="object">
  Documento de identificação do cliente
</ParamField>

<ParamField body="customer.taxID.taxID" type="string">
  CPF ou CNPJ do cliente
</ParamField>

<ParamField body="customer.taxID.type" type="string">
  Tipo do documento. Valores permitidos: `"BR:CPF"` ou `"BR:CNPJ"`
</ParamField>

## Request Example

<RequestExample>

```json
{
  "correlationID": "pedido-123",
  "value": 10.50,
  "comment": "Pagamento do pedido #123",
  "expiresIn": 3600,
  "expiresDate": "2024-12-31T23:59:59Z",
  "customer": {
    "name": "João Silva",
    "email": "joao@example.com",
    "phone": "+5511999999999",
    "taxID": {
      "taxID": "12345678900",
      "type": "BR:CPF"
    }
  }
}
```

</RequestExample>

## Response Examples

### 200 OK - Sucesso

<ResponseExample>

```json
{
  "success": true,
  "charge": {
    "correlationID": "pedido-123",
    "value": 10.50,
    "status": "ACTIVE",
    "qrCodeImage": "https://flowapplications.com.br/api/v1/payment/qrcode/pedido-123",
    "brCode": "00020126580014br.gov.bcb.pix...",
    "globalID": "550e8400-e29b-41d4-a716-446655440000",
    "transactionID": null,
    "expiresIn": 3600,
    "expiresDate": "2024-12-31T23:59:59Z",
    "createdAt": "2024-01-01T10:00:00Z",
    "updatedAt": "2024-01-01T10:00:00Z"
  }
}
```

</ResponseExample>

## Campos da Resposta

- **correlationID**: ID único do pagamento fornecido por você
- **value**: Valor do pagamento em reais
- **status**: Status do pagamento (`ACTIVE`, `COMPLETED`, `EXPIRED`)
- **qrCodeImage**: URL da imagem PNG do QR code para pagamento. Pode ser usado diretamente em tags `<img>`
- **brCode**: Código PIX copia e cola (EMV)
- **globalID**: ID global da cobrança na Woovi
- **transactionID**: ID da transação (preenchido quando o pagamento for confirmado)
- **expiresIn**: Tempo de expiração em segundos
- **expiresDate**: Data e hora de expiração
- **createdAt**: Data e hora de criação
- **updatedAt**: Data e hora da última atualização

<Note>
O campo `paymentLinkUrl` foi removido da resposta da API. Use o `qrCodeImage` ou o `brCode` para realizar o pagamento.
</Note>

## Erros

### 400 Bad Request - Erro

Valores obrigatórios faltando ou inválidos.

<ResponseExample>

```json
{
  "success": false,
  "error": "correlationID e value são obrigatórios"
}
```

</ResponseExample>

### 401 Unauthorized - Erro

Token inválido ou não fornecido.

<ResponseExample>

```json
{
  "success": false,
  "error": "Token de API inválido ou não fornecido"
}
```

</ResponseExample>

### 500 Internal Server Error - Erro

Erro interno do servidor ou configuração da Woovi não encontrada.

<ResponseExample>

```json
{
  "success": false,
  "error": "Erro interno do servidor"
}
```

</ResponseExample>

## Exemplos de Código

### JavaScript/Node.js

```javascript
const API_TOKEN = 'seu_token_aqui';
const API_BASE_URL = 'https://flowapplications.com.br/api/v1';

async function criarPagamento() {
  const correlationID = `pagamento-${Date.now()}`;
  
  const response = await fetch(`${API_BASE_URL}/payment/create`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${API_TOKEN}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      correlationID: correlationID,
      value: 10.50,
      comment: 'Pagamento de teste',
      expiresIn: 3600,
      customer: {
        name: 'Cliente Teste',
        email: 'cliente@teste.com',
      }
    }),
  });
  
  const data = await response.json();
  
  if (data.success) {
    console.log('Pagamento criado:', data.charge);
    console.log('QR Code:', data.charge.qrCodeImage);
    console.log('Código PIX:', data.charge.brCode);
  } else {
    console.error('Erro:', data.error);
  }
}
```

### Python

```python
import requests
import time

API_TOKEN = 'seu_token_aqui'
API_BASE_URL = 'https://flowapplications.com.br/api/v1'

def criar_pagamento():
    correlation_id = f'pagamento-{int(time.time())}'
    
    headers = {
        'Authorization': f'Bearer {API_TOKEN}',
        'Content-Type': 'application/json',
    }
    
    payload = {
        'correlationID': correlation_id,
        'value': 10.50,
        'comment': 'Pagamento de teste',
        'expiresIn': 3600,
        'customer': {
            'name': 'Cliente Teste',
            'email': 'cliente@teste.com',
        }
    }
    
    response = requests.post(
        f'{API_BASE_URL}/payment/create',
        headers=headers,
        json=payload
    )
    
    data = response.json()
    
    if data.get('success'):
        print('Pagamento criado:', data['charge'])
        print('QR Code:', data['charge']['qrCodeImage'])
        print('Código PIX:', data['charge']['brCode'])
    else:
        print('Erro:', data.get('error'))
```

### cURL

```bash
curl -X POST https://flowapplications.com.br/api/v1/payment/create \
  -H "Authorization: Bearer seu_token_aqui" \
  -H "Content-Type: application/json" \
  -d '{
    "correlationID": "pagamento-1234567890",
    "value": 10.50,
    "comment": "Pagamento de teste",
    "expiresIn": 3600,
    "customer": {
      "name": "Cliente Teste",
      "email": "cliente@teste.com"
    }
  }'
```

### PHP

```php
<?php
$apiToken = 'seu_token_aqui';
$apiBaseUrl = 'https://flowapplications.com.br/api/v1';

function criarPagamento() {
    global $apiToken, $apiBaseUrl;
    
    $correlationID = 'pagamento-' . time();
    
    $data = [
        'correlationID' => $correlationID,
        'value' => 10.50,
        'comment' => 'Pagamento de teste',
        'expiresIn' => 3600,
        'customer' => [
            'name' => 'Cliente Teste',
            'email' => 'cliente@teste.com',
        ]
    ];
    
    $ch = curl_init($apiBaseUrl . '/payment/create');
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_POST, true);
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'Authorization: Bearer ' . $apiToken,
        'Content-Type: application/json',
    ]);
    
    $response = curl_exec($ch);
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    curl_close($ch);
    
    $result = json_decode($response, true);
    
    if ($result['success']) {
        echo "Pagamento criado: " . $result['charge']['correlationID'] . "\n";
        echo "QR Code: " . $result['charge']['qrCodeImage'] . "\n";
    } else {
        echo "Erro: " . $result['error'] . "\n";
    }
}
?>
```
